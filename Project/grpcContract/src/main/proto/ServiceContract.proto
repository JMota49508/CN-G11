syntax = "proto3";

option java_multiple_files = true;
option java_package = "servicestubs";

package grpcservice; // package do proto

// Service contract operations 
service Service {
  rpc submitFile(InputFile) returns (TextMessage);
  rpc getImageLabels(TextMessage) returns (ImageLabels);
  rpc getNamesFromDateAndLabel(DatesAndLabel) returns (ImageNames);
  rpc downloadImage(TextMessage) returns (Image);
}

message TextMessage {string txt = 1;}

message InputFile {
  string contentType = 1;
  bytes image = 2;
  string fileName = 3;
}

message ImageLabels {
  repeated string labels = 1;
}

message ImageNames {
  repeated string names = 1;
}

message DatesAndLabel {
  string initDate = 1;
  string finalDate = 2;
  string label = 3;
}

message Image {
  bytes image = 1;
}